{"version":3,"sources":["Components/Hooks/useAsyncReference.js","Components/Hooks/useStorage.js","Components/Connect.js","Components/Header/Balance.js","Components/Header/Search.js","Components/Header/Header.js","Components/Footer.js","Components/FlippingCard.js","DAPP_Page/App_Page/Body.js","DAPP_Page/Set_Survey_Page/SetQuestions.js","DAPP_Page/Set_Survey_Page/SetTitle.js","DAPP_Page/Set_Survey_Page/SetValue.js","DAPP_Page/Set_Survey_Page/SetParticipants.js","DAPP_Page/Set_Survey_Page/SetButtons.js","DAPP_Page/Set_Survey_Page/Body.js","Components/SelectedSurevyOrPollWindow.js","DAPP_Page/Get_Surveys_Page/GetQuestions.js","DAPP_Page/Get_Surveys_Page/SelectedSurveyData.js","DAPP_Page/Get_Surveys_Page/GetTitles.js","DAPP_Page/Get_Surveys_Page/Body.js","DAPP_Page/Set_Poll_Page/SetChoices.js","DAPP_Page/Set_Poll_Page/SetTitle.js","DAPP_Page/Set_Poll_Page/SetValue.js","DAPP_Page/Set_Poll_Page/SetParticipants.js","DAPP_Page/Set_Poll_Page/SetButtons.js","DAPP_Page/Set_Poll_Page/Body.js","DAPP_Page/Get_Poll_Page/GetChoices.js","DAPP_Page/Get_Poll_Page/SelectedPollData.js","DAPP_Page/Get_Poll_Page/GetTitles.js","DAPP_Page/Get_Poll_Page/Body.js","Account_Page/Account_Surveys/GetSurveys.js","Account_Page/Account_Surveys/GetQuestions.js","Account_Page/Account_Surveys/GetAnswers.js","Account_Page/Account_Surveys/SelectedSurveyData.js","Account_Page/ExportDataButton.js","Account_Page/Account_Surveys/Body.js","Account_Page/Account_Polls/GetPolls.js","Account_Page/Account_Polls/GetChoiceVotes.js","Account_Page/Account_Polls/GetChoices.js","Account_Page/Account_Polls/Body.js","Home_Page/Body.js","Components/MainBody.js","App.js","serviceWorker.js","Components/Icons.js","Components/Styling.js","index.js"],"names":["useAsyncReference","value","isProp","ref","useRef","useState","forceRender","updateState","newState","Object","is","current","s","web3","Web3","givenProvider","Survey","styled","div","SurveyMask","Connect","connect","connectMask","storage","setStorage","_connect","a","window","ethereum","request","method","connected","type","onClick","useEffect","undefined","userAddress","send","then","res","result","loading","catch","err","code","console","log","error","provider","on","accounts","chain","GetBalance","tokenContract","getBalance","utils","isAddress","methods","balanceOf","call","newBalance","balance","className","Search","placeholder","onChange","event","preventDefault","searchVal","target","HeaderStyle","props","showResizedNav","Header","dropdown","loadingDiv","nav","resizedNav","showDropdown","setShowDropdown","Balance","to","style","width","windowWidth","icon","size","e","color","FooterStyle","footer","Footer","open","CardFront","CardBack","Card","FlippingCard","front","back","flipped","setFlipped","Row","Column","AppBody","link","setLink","stopPropagation","currentTarget","parentNode","includes","Div","Questions","newQuestionValue","questions","key","uuidv4","map","val","newQuestions","push","Title","surveyTitle","Value","Participants","maxParticipants","SetButtons","approveButton","approve","sendToBC","surveysAddress","isOperator","isOperatorFor","newSurveyContractApproved","surveyContractApproved","Container","Body","surveysContract","authorizeOperator","from","setNewSurvey","bytes32Questions","forEach","question","toHex","bytes32Title","setSurvey","bigInt","multiply","pow","toString","i","document","getElementsByTagName","alert","message","SelectedSurvey","survey","surveyMask","showSurvey","selectedSurvey","showPoll","selectedPoll","body","exit","loadingBar","id","GetQuestions","updateAnswers","getSurveyQuestions","getSurveyStringToBytes32ArrayStorage","asciiToHex","newBytes32Questions","newStringQuestions","hexToUtf8","Fragment","name","Data","newAnswers","sendAnswer","bytes32Answers","stringAnswer","bytes32Answer","surveyParticipation","answers","GetTitles","getSurveys","getStringToBytes32ArrayStorrage","newBytes32Titles","newStringTitles","title","allSurevyTitles","filter","SelectedSurveyData","Choices","newChoiceValue","choices","newChoices","pollTitle","setNewPoll","pollAddress","newPollContractApproved","pollContractApproved","pollContract","bytes32Chices","choice","setPoll","P","p","selectedChoice","GetChoices","getSurveyChoices","getPollStringToBytes32ArrayStorage","newBytes32Choices","newStringChices","firstChild","nodeValue","pollParticipation","allPollTitles","SelectedPollData","GetUserSurveys","getUserSurveys","getUserStringToBytes32ArrayStorage","nrOfUserSurveys","length","userSurveyTitles","nrOfUserPolls","lenght","GetSurveyQuestions","scope","GetSurveyAnswers","getSurveyAnswers","getSurveyUintStorage","surveyTotalParticipants","newStringAnswers","getSurveyUintToBytes32ArrayStorage","newBytes32OneUserAnswers","oneUserAnswer","val1","val2","Table","table","Button","button","ExportData","data","aVal","newData","split","json","JSON","stringify","blob","Blob","url","URL","createObjectURL","createElement","setAttribute","appendChild","click","removeChild","csvRows","join","GetUserPolls","getUserPolls","userPollTitles","GetChoiceVotes","getChoiceVotes","newVotes","getPollBytes32UintStorage","nrOfVotes","votes","GetPollChoices","getPollChoices","newStringChoices","Component","MainBody","inheritWidth","newWindowWidth","setNewWindowWidth","resizeWindow","innerWidth","addEventListener","removeEventListener","exact","path","eth","Contract","token","abi","surveyFunc","pollFunc","App","bigInteger","network","useStorage","Boolean","location","hostname","match","library","add","faTimes","faBars","faInstagram","faFacebookF","faTwitter","faTelegramPlane","faGithub","Global","createGlobalStyle","Background","ReactDOM","render","StrictMode","Styling","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c46ccfd4.chunk.js","sourcesContent":["import { useState, useRef } from 'react';\r\n\r\nfunction useAsyncReference(value, isProp = false) {\r\n  const ref = useRef(value);\r\n  const [, forceRender] = useState(false);\r\n\r\n  function updateState(newState) {\r\n    if (!Object.is(ref.current, newState)) {\r\n      ref.current = newState;\r\n      forceRender(s => !s);\r\n    }\r\n  }\r\n\r\n  if (isProp) {\r\n    ref.current = value;\r\n    return ref;\r\n  }\r\n\r\n  return [ref.current, updateState];\r\n}\r\n\r\nexport default useAsyncReference;","import useAsyncReference from './useAsyncReference.js';\r\nimport bigInteger from 'big-integer';\r\nimport Web3 from 'web3';\r\nconst web3 = new Web3(Web3.givenProvider);\r\n\r\nexport default function useStorage() {\r\n\tconst [storage, setStorage] = useAsyncReference({\r\n    utils: web3.utils,\r\n    bigInt: bigInteger,\r\n    userAddress: undefined,\r\n\t\tnetwork: undefined,\r\n\r\n    balance: undefined,\r\n\t\tconnected: true,\r\n\t\t\r\n    surveyContractApproved: undefined,\r\n\t\tpollContractApproved: undefined,\r\n\t\t\r\n    windowWidth: window.innerWidth,\r\n\t\tshowResizedNav: false,\r\n\t\t\r\n    loading: false,\r\n    searchVal: '',\r\n\r\n    surveyTitle: undefined,\r\n    allSurevyTitles: undefined,\r\n    userSurveyTitles: undefined,\r\n\r\n    pollTitle: undefined,\r\n    allPollTitles: undefined,\r\n    userPollTitles: undefined,\r\n\r\n    questions: undefined,\r\n    choices: undefined,\r\n    votes: undefined,\r\n\r\n    answers: undefined,\r\n    choice: undefined,\r\n\r\n    value: undefined,\r\n    maxParticipants: undefined,\r\n\r\n    showSurvey: false,\r\n    showPoll: false,\r\n\r\n    selectedSurvey: undefined,\r\n    selectedPoll: undefined,\r\n\r\n    nrOfUserSurveys: undefined,\r\n    nrOfUserPolls: undefined\r\n\t});\r\n\treturn [storage, setStorage];\r\n}","import React, { useEffect } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Survey = styled.div`\r\n\tposition: fixed;\r\n\tleft: 50%;\r\n\ttop: 50%;\r\n\ttransform: translate(-50%, -50%);\r\n\r\n\tbackground-color: white;\r\n\tbox-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\r\n\theight: 18rem;\r\n\twidth: 20rem;\r\n\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\r\n\tborder: 0px;\r\n\r\n\tbutton {\r\n\t\tmargin: 0.75em 0em 0.1em 0em;\r\n\t\tbox-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.175);\r\n\t}\r\n\tp {\r\n\t\tmargin: 0.1em 0.75em;\r\n\t}\r\n`;\r\n\r\nconst SurveyMask = styled.div`\r\n\tposition: fixed;\r\n\tbackground-color: rgba(0,0,0,0.6);\r\n\ttop: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n`;\r\n\r\nfunction Connect({ storage, setStorage }) {\r\n\tconst _connect = async () => {\r\n\t\tawait window.ethereum.request({ method: 'eth_requestAccounts' });\r\n\t}\r\n\r\n\tlet connect;\r\n\tlet connectMask;\r\n\tif (!storage.connected) {\r\n\t\tconnect =\r\n\t\t\t<Survey>\r\n\t\t\t\t<p>In order for you to use this app, you need to connect to your ethereum wallet through metamask.</p>\r\n\t\t\t\t<p>By using our app you agree that any information you submit is public information and anyone can use it for or against you.</p>\r\n\t\t\t\t<p>We are not responsible for the misuse of the informations you provide our app.</p>\r\n\t\t\t\t<button type=\"button\" onClick={_connect}>Connect</button>\r\n\t\t\t</Survey>\r\n\t\tconnectMask = <SurveyMask></SurveyMask>\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (typeof window.ethereum !== 'undefined'\r\n\t\t\t|| (typeof window.web3 !== 'undefined')) {\r\n\t\t\tif (storage.userAddress === undefined) {\r\n\t\t\t\tsetStorage({ ...storage, connected: false })\r\n\t\t\t\twindow.ethereum.send('eth_accounts')\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (res.result[0] !== undefined) {\r\n\t\t\t\t\t\t\tsetStorage({\r\n\t\t\t\t\t\t\t\t...storage,\r\n\t\t\t\t\t\t\t\tuserAddress: res.result[0],\r\n\t\t\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\t\t\tconnected: true\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tsetStorage({ ...storage, connected: false });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t).catch((err) => {\r\n\t\t\t\t\t\tif (err.code === 4100) {\r\n\t\t\t\t\t\t\tconsole.log('Please connect to MetaMask.')\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.error(err)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tconst provider = window.ethereum;\r\n\t\t\tconsole.log(provider);\r\n\r\n\t\t\tprovider.on('accountsChanged', function (accounts) {\r\n\t\t\t\tconsole.log(\"accounts changed\");\r\n\t\t\t\tsetStorage({ ...storage, userAddress: accounts[0] });\r\n\t\t\t\tconsole.log(accounts[0]);\r\n\t\t\t});\r\n\r\n\t\t\tprovider.on('chainChanged', function (chain) {\r\n\t\t\t\tconsole.log('chain changed');\r\n\t\t\t\tconsole.log(chain);\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log('MetaMask is not installed!');\r\n\t\t}\r\n\t}, [window['ethereum']]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{connectMask}\r\n\t\t\t{connect}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Connect;","import React, { useEffect } from 'react';\r\nimport Web3 from 'web3';\r\n\r\nconst web3 = new Web3(Web3.givenProvider);\r\n\r\nfunction GetBalance({ storage, setStorage, tokenContract }) {\r\n\tconst getBalance = async () => {\r\n\t\tsetStorage({ ...storage, loading: true });\r\n\t\tif (web3.utils.isAddress(storage.userAddress)) {\r\n\t\t\ttokenContract.methods.balanceOf(storage.userAddress).call()\r\n\t\t\t\t.then((newBalance) => {\r\n\t\t\t\t\tsetStorage({ ...storage, balance: newBalance / 10 ** 18, loading: false });\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (storage.balance === undefined) {\r\n\t\t\tgetBalance();\r\n\t\t}\r\n\t}, [storage.userAddress]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{storage.balance !== undefined ? <p className=\"balance\">Balance: {storage.balance} SVT</p> : <></>}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default GetBalance;","import React from 'react';\r\n\r\nfunction Search({ storage, setStorage }) {\r\n\r\n\tconst changeSearchVal = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tsetStorage({ ...storage, searchVal: event.target.value });\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<input className=\"nav-input\" type=\"text\" placeholder=\"Search\" onChange={changeSearchVal} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Search;","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n\tLink\r\n} from 'react-router-dom';\r\nimport Balance from './Balance.js';\r\nimport Search from './Search.js'\r\n\r\nconst HeaderStyle = styled.div`\r\n\tbox-shadow: 0 0 6px 0 rgba(0, 0, 0, 0.5), 0 0 4px 0 rgba(0, 0, 0, 0.4);\r\n\tbackground-color: #1a1a1a;\r\n\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tflex-direction: ${props => props.showResizedNav ? 'column' : 'row'};\r\n\tjustify-content: space-around;\r\n\talign-items: center;\r\n\t\r\n\tletter-spacing: 0.05em;\r\n\tfont-weight: 300;\r\n\r\n\t.brand {\r\n\t\tdisplay: flex;\r\n\t\tfont-size: 1.5em;\r\n\t}\r\n\r\n\tsvg {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tright: 0;\r\n\t\tmargin: 0.75em;\r\n\t}\r\n\r\n\t.links {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: ${props => props.showResizedNav ? 'column' : 'row'};\r\n\t\talign-items: center;\r\n\t\t>p {\r\n\t\t\tcolor: #fdfcfa;\r\n\t\t\twidth: 5em;\r\n\t\t\ttext-overflow: ellipsis;\r\n\t\t\toverflow: hidden;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\tmargin: 1em;\r\n\t\t}\r\n\t}\r\n\r\n\t.nav-link {\r\n\t\tcolor: #fdfcfa;\r\n\t\ttext-decoration: none;\r\n\t\tmargin: 1em;\r\n\t\t&:active {\r\n\t\t\tcolor: #1a1a1a;\r\n\t\t}\r\n\t}\r\n\r\n\t.nav-input {\r\n\t\twidth: 15em;\r\n\t\tmargin: 1em;\r\n\t}\r\n\t\r\n\t.dropdown-menu {\r\n\t\tposition: fixed;\r\n\t\ttransform: ${props => props.showResizedNav ? 'translate3d(0, 75%, 0)' : 'translate3d(20%, 70%, 0)'};\r\n\t\tbackground-color: #eec0c6;\r\n\t\tbackground-image: linear-gradient(315deg, #eec0c6 0%, #7ee8fa 74%);\r\n\t\tbox-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.175);\r\n\t\tborder-radius: 5px;\r\n\t\twidth: 10em;\r\n\t\theight: 8em;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.balance {\r\n\t\tcolor: #1a1a1a;\r\n\t\tfont-weight: 500;\r\n\t}\r\n\t\r\n\t.dropdown-item {\r\n\t\tdisplay: inline-block;\r\n\t\ttext-decoration: none;\r\n\t\tmargin: 0.3em;\r\n\t\t&:visited {\r\n\t\t\tcolor: #1a1a1a;\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nfunction Header({ storage, setStorage, tokenContract }) {\r\n\tconst [showDropdown, setShowDropdown] = useState(false);\r\n\r\n\tlet dropdown;\r\n\tif (showDropdown) {\r\n\t\tdropdown =\r\n\t\t\t<div className=\"dropdown-menu\">\r\n\t\t\t\t<Balance\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t\ttokenContract={tokenContract}\r\n\t\t\t\t/>\r\n\t\t\t\t<Link className=\"change-color-on-hover dropdown-item\" to=\"/accountSurveys\">Your Surveys</Link>\r\n\t\t\t\t<Link className=\"change-color-on-hover dropdown-item\" to=\"/accountPolls\">Your Polls</Link>\r\n\t\t\t</div>\r\n\t}\r\n\telse {\r\n\t\tdropdown = <></>\r\n\t}\r\n\r\n\tlet loadingDiv;\r\n\tif (/*storage.loading && !storage.showSurvey*/true) {\r\n\t\tloadingDiv =\r\n\t\t\t<div className=\"progress-bar\">\r\n\t\t\t\t<span style={{ width: \"100%\" }}></span>\r\n\t\t\t</div>\r\n\t}\r\n\telse {\r\n\t\tloadingDiv = <></>\r\n\t}\r\n\r\n\tlet nav;\r\n\tif (storage.windowWidth >= 800) {\r\n\t\tnav =\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"links\">\r\n\t\t\t\t\t<Link className=\"change-color-on-hover nav-link\" to=\"/App\"> App </Link>\r\n\t\t\t\t\t<p className=\"change-color-on-hover\" onClick={() => setShowDropdown(!showDropdown)}>{storage.userAddress}</p>\r\n\t\t\t\t\t{dropdown}\r\n\t\t\t\t</div>\r\n\t\t\t\t<Search\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t/>\r\n\t\t\t</>\r\n\t}\r\n\telse {\r\n\t\tnav =\r\n\t\t\t<FontAwesomeIcon\r\n\t\t\t\tclassName=\"change-color-on-hover\"\r\n\t\t\t\ticon=\"bars\"\r\n\t\t\t\tsize=\"2x\"\r\n\t\t\t\tonClick={(e) => { e.preventDefault(); setStorage({ ...storage, showResizedNav: !storage.showResizedNav }); }}\r\n\t\t\t/>\r\n\t}\r\n\r\n\tlet resizedNav;\r\n\tif (storage.showResizedNav) {\r\n\t\tresizedNav =\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"links\">\r\n\t\t\t\t\t<Link className=\"change-color-on-hover nav-link\" to=\"/App\"> App </Link>\r\n\t\t\t\t\t<p className=\"change-color-on-hover\" onClick={() => setShowDropdown(!showDropdown)}>{storage.userAddress}</p>\r\n\t\t\t\t\t{dropdown}\r\n\t\t\t\t</div>\r\n\t\t\t\t<Search\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t/>\r\n\t\t\t</>\r\n\t}\r\n\telse {\r\n\t\tresizedNav = <></>\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<HeaderStyle className=\"header\" showResizedNav={storage.showResizedNav}>\r\n\t\t\t\t<div className=\"brand\">\r\n\t\t\t\t\t<Link className=\"change-color-on-hover nav-link\" to=\"/\" style={{ color: \"#fdfcfa\" }}>Unstopable information</Link>\r\n\t\t\t\t</div>\r\n\t\t\t\t{nav}\r\n\t\t\t\t{resizedNav}\r\n\t\t\t</HeaderStyle>\r\n\t\t\t{loadingDiv}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Header;","import React from 'react'\r\nimport styled from 'styled-components';\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nconst FooterStyle = styled.footer`\r\n\tbackground-color: #1a1a1a;\r\n\tbox-shadow: 6px 6px 6px 6px rgba(0, 0, 0, 0.5), 4px 4px 4px 4px rgba(0, 0, 0, 0.4);\r\n\tposition: fixed;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: center;\r\n\talign-items: flex-end;\r\n\tsvg {\r\n\t\tmargin: 0.6rem 0.7rem;\r\n\t}\r\n`\r\n\r\nfunction Footer() {\r\n\r\n\treturn (\r\n\t\t<FooterStyle>\r\n\t\t\t<FontAwesomeIcon icon={['fab', 'instagram']} size=\"3x\" onClick={() => window.open(\"https://www.instagram.com/daniel_afteni\", \"_blank\")} className=\"change-color-on-hover\" />\r\n\t\t\t<FontAwesomeIcon icon={['fab', 'facebook-f']} size=\"3x\" onClick={() => window.open(\"https://www.facebook.com\", \"_blank\")} className=\"change-color-on-hover\" />\r\n\t\t\t<FontAwesomeIcon icon={['fab', 'twitter']} size=\"3x\" onClick={() => window.open(\"https://twitter.com/afteni_daniel\", \"_blank\")} className=\"change-color-on-hover\" />\r\n\t\t\t<FontAwesomeIcon icon={['fab', 'telegram-plane']} size=\"3x\" onClick={() => window.open(\"https://telegram.org\", \"_blank\")} className=\"change-color-on-hover\" />\r\n\t\t\t<FontAwesomeIcon icon={['fab', 'github']} size=\"3x\" onClick={() => window.open(\"https://github.com/b00ste\", \"_blank\")} className=\"change-color-on-hover\" />\r\n\t\t</FooterStyle>\r\n\t);\r\n}\r\n\r\nexport default Footer;","import React, { useState } from 'react'\r\nimport styled from 'styled-components';\r\n\r\nconst CardFront = styled.div`\r\n\ttransform: rotateY(0deg);\r\n\tborder: 0;\r\n\th4 {\r\n\t\tmargin-top: 3em !important;\r\n\t}\r\n`;\r\nconst CardBack = styled.div`\r\n\tposition: absolute;\r\n\topacity: 0;\r\n\ttop: 0px;\r\n\tleft: 0px;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\ttransform: rotateY(-180deg);\r\n\tborder: 0;\r\n\tbackground-image: linear-gradient( 135deg, #43CBFF 10%, #9708CC 100%) !important;\r\n`;\r\nconst Card = styled.div`\r\n\tposition: relative;\r\n\tmargin: 1em;\r\n\ttransform-style: preserve-3d;\r\n\t>${CardFront},\r\n\t>${CardBack} {\r\n\t\tdisplay: block;\r\n\t\tpadding: 2em;\r\n\t\theight: 18rem;\r\n\t\twidth: 20rem;\r\n\t\t\r\n\t\ttransition-timing-function: cubic-bezier(.175, .885, .32, 1.275);\r\n\t\ttransition-duration: .5s;\r\n\t\ttransition-property: transform, opacity;\r\n\t}\r\n\t&.flipped {\r\n\t\t>${CardFront} {\r\n\t\t\t\ttransform: rotateY(180deg);\r\n\t\t}\r\n\t\t>${CardBack} {\r\n\t\t\t\topacity: 1;\r\n\t\t\t\ttransform: rotateY(0deg);\r\n\t\t}\r\n\t}\r\n\t&:hover {\r\n\t\tcursor: pointer;\r\n\t}\r\n`;\r\n\r\nfunction FlippingCard({ front, back }) {\r\n\tconst [flipped, setFlipped] = useState(false);\r\n\r\n\treturn (\r\n\t\t<Card onClick={() => setFlipped(!flipped)} className={flipped ? \"flipped\" : \"\"}>\r\n\t\t\t\t<CardFront className=\"card-default\">\r\n\t\t\t\t\t<h4>{front}</h4>\r\n\t\t\t\t</CardFront>\r\n\t\t\t\t<CardBack className=\"card-default\">\r\n\t\t\t\t\t{back}\r\n\t\t\t\t</CardBack>\r\n\t\t</Card>\r\n\t);\r\n}\r\n\r\nexport default FlippingCard;","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport Card from '../../Components/FlippingCard';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Row = styled.div`\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tflex-direction: row;\r\n\tjustify-content: center;\r\n\talign-items: flex-end;\r\n`;\r\nconst Column = styled.div`\r\n\tdisplay: flex;\r\n\th4 {\r\n\t\tfont-size: 1.3em;\r\n\t}\r\n\th6 {\r\n\t\tfont-size: 0.8em;\r\n\t}\r\n\ta {\r\n\t\tbox-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.175);\r\n\t\tbackground-color: #fdfcfa;\r\n\t\tcolor: #1a1a1a;\r\n\t\ttext-decoration: none;\r\n\t\tdisplay: inline-block;\r\n\t\tpadding: 1em 5em;\r\n\t\tmargin-top: 0.7em;\r\n\t\t&:visited {\r\n\t\t\tcolor: #1a1a1a;\r\n\t\t}\r\n\t\t&:hover {\r\n\t\t\tbackground-color: #e8eae6;\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nfunction AppBody() {\r\n\tconst [link, setLink] = useState(\"/App\");\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Row>\r\n\t\t\t\t<Column>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tfront=\"Set up a new unstopable survey!\"\r\n\t\t\t\t\t\tback={\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t\t\tBe aware that any information you provide and ask from participants is public.\r\n\t\t\t\t\t\t\t\t\tIncentivate people to participate at your surveys, ask decent questions!\r\n\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tto={link}\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\tlet flippedStatus = e.currentTarget.parentNode.parentNode.className.includes('flipped');\r\n\t\t\t\t\t\t\t\t\t\tif (flippedStatus) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetLink(\"/App/Set_Survey\");\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tLet's go!\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Column>\r\n\t\t\t\t<Column>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tfront=\"Complete some surveys and earn some coins!\"\r\n\t\t\t\t\t\tback={\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t\t\tBe aware that any information you provide using our app is\r\n\t\t\t\t\t\t\t\t\tpublic and anyone can access it on blockchain. Please do not\r\n\t\t\t\t\t\t\t\t\tprovide any informationthat can be used against you!\r\n\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tto={link}\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\tlet flippedStatus = e.currentTarget.parentNode.parentNode.className.includes('flipped');\r\n\t\t\t\t\t\t\t\t\t\tif (flippedStatus) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetLink(\"/App/Get_Surveys\");\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tLet's go!\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Column>\r\n\t\t\t</Row>\r\n\t\t\t<Row>\r\n\t\t\t\t<Column>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tfront=\"Set up a new unstopable poll!\"\r\n\t\t\t\t\t\tback={\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t\t\tBe aware that any information you provide and ask from participants is public.\r\n\t\t\t\t\t\t\t\t\tIncentivate people to participate at your surveys, set decent poll choices!\r\n\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tto={link}\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\tlet flippedStatus = e.currentTarget.parentNode.parentNode.className.includes('flipped');\r\n\t\t\t\t\t\t\t\t\t\tif (flippedStatus) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetLink(\"/App/Set_Poll\");\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tLet's go!\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Column>\r\n\t\t\t\t<Column>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tfront=\"Participate at polls and earn some coins!\"\r\n\t\t\t\t\t\tback={\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t\t\tBe aware that any information you provide using our app is\r\n\t\t\t\t\t\t\t\t\tpublic and anyone can access it on blockchain. Please do not\r\n\t\t\t\t\t\t\t\t\tprovide any informationthat can be used against you!\r\n\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tto={link}\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\tlet flippedStatus = e.currentTarget.parentNode.parentNode.className.includes('flipped');\r\n\t\t\t\t\t\t\t\t\t\tif (flippedStatus) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetLink(\"/App/Get_Polls\");\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tLet's go!\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Column>\r\n\t\t\t</Row>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default AppBody;","import React from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport styled from 'styled-components';\r\n\r\nconst Div = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  .body {\r\n    margin-bottom: 3em;\r\n    input {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n  .button {\r\n    display: inline-block;\r\n    position: absolute;\r\n    bottom: 0;\r\n    margin-bottom: 1em;\r\n  }\r\n`;\r\n\r\nfunction Questions({ storage, setStorage }) {\r\n\r\n  let newQuestionValue;\r\n  const saveNewQuestionValue = (event) => {\r\n    event.preventDefault();\r\n    newQuestionValue = event.target.value;\r\n  }\r\n  const addNewQuestion = (event) => {\r\n    event.preventDefault();\r\n    let newQuestions = [];\r\n    if (storage.questions !== undefined)\r\n      newQuestions = [...storage.questions];\r\n    newQuestions.push(newQuestionValue);\r\n    setStorage({ ...storage, questions: newQuestions });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Div className=\"card-default\">\r\n        <div className=\"body\">\r\n          {\r\n            storage.questions === undefined\r\n              ? <h4>\r\n                Choose questions.\r\n                </h4>\r\n              : <h4 key={uuidv4()}>{storage.questions.map((val) => (val + ', '))}</h4>\r\n          }\r\n          <input type=\"text\" placeholder=\"Questions\" onChange={saveNewQuestionValue} />\r\n        </div>\r\n        <div className=\"button\">\r\n          <button type=\"button\" onClick={addNewQuestion}>\r\n            Save new questions\r\n          </button>\r\n        </div>\r\n      </Div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Questions;","import React from 'react'\r\n\r\nfunction Title({ storage, setStorage }) {\r\n\r\n  const saveNewTitleValue = (event) => {\r\n    event.preventDefault();\r\n    setStorage({ ...storage, surveyTitle: event.target.value });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"card-default\">\r\n        {\r\n          storage.surveyTitle\r\n            ? <h4>\r\n              Title of your survey is \"{storage.surveyTitle}\".\r\n                </h4>\r\n            : <h4>\r\n              Set survey title.\r\n                </h4>\r\n        }\r\n        <input type=\"text\" placeholder=\"Title\" onChange={saveNewTitleValue} />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Title;","import React from 'react'\r\n\r\nfunction Value({ storage, setStorage }) {\r\n\r\n  const saveNewValue = (event) => {\r\n    event.preventDefault();\r\n    setStorage({ ...storage, value: event.target.value });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"card-default\">\r\n        {\r\n          storage.value\r\n            ? <h4>Your survey has {storage.value} UFO up for distribution</h4>\r\n            : <h4>Set survey value.</h4>\r\n        }\r\n        <input type=\"number\" placeholder=\"Value\" onChange={saveNewValue} />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Value;","import React from 'react'\r\n\r\nfunction Participants({ storage, setStorage }) {\r\n\r\n  const saveNewMaxParticipants = (event) => {\r\n    event.preventDefault();\r\n    setStorage({ ...storage, maxParticipants: event.target.value })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"card-default\">\r\n        {\r\n          storage.maxParticipants\r\n            ? <h4>\r\n              Your survey allows {storage.maxParticipants} people to participate.\r\n                </h4>\r\n            : <h4>\r\n              Set survey total paricipants.\r\n                </h4>\r\n        }\r\n        <input type=\"number\" placeholder=\"Participants\" onChange={saveNewMaxParticipants} />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Participants;","import React, { useEffect } from 'react';\r\n\r\nfunction SetButtons({\r\n\tstorage,\r\n\tsetStorage,\r\n\tapprove,\r\n\tsendToBC,\r\n\ttokenContract,\r\n\tsurveysAddress\r\n}) {\r\n\r\n\tconst isOperator = async () => {\r\n\t\tlet newSurveyContractApproved = await tokenContract.methods.isOperatorFor(surveysAddress, storage.userAddress).call();\r\n\t\tsetStorage({\r\n\t\t\t...storage,\r\n\t\t\tsurveyContractApproved: newSurveyContractApproved\r\n\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (storage.surveyContractApproved === undefined && storage.userAddress !== undefined) {\r\n\t\t\tisOperator();\r\n\t\t}\r\n\t})\r\n\r\n\tlet approveButton;\r\n\tif (!storage.surveyContractApproved) {\r\n\t\tapproveButton =\r\n\t\t\t<button type=\"button\" onClick={approve}>\r\n\t\t\t\tApprove\r\n\t\t\t</button>\r\n\t}\r\n\telse {\r\n\t\tapproveButton = <></>\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{approveButton}\r\n\t\t\t<button type=\"button\" onClick={sendToBC}>\r\n\t\t\t\tLet's go\r\n\t\t\t</button>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default SetButtons;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Questions from './SetQuestions.js';\r\nimport Title from './SetTitle.js';\r\nimport Value from './SetValue.js';\r\nimport Participants from './SetParticipants.js';\r\nimport Buttons from './SetButtons.js';\r\n\r\nconst Container = styled.div`\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: center;\r\n\talign-items: flex-end;\r\n\tbutton {\r\n\t\tdisplay: block;\r\n\t\tmargin 2em;\r\n\t\twidth: 18em;\r\n\t\tbox-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.175);\r\n\t}\r\n`;\r\n\r\nfunction Body({\r\n\tstorage,\r\n\tsetStorage,\r\n\tsurveysAddress,\r\n\tsurveysContract,\r\n\ttokenContract\r\n}) {\r\n\tconst approve = async () => {\r\n\t\tawait tokenContract.methods.authorizeOperator(surveysAddress).send({ from: storage.userAddress });\r\n\t}\r\n\tconst setNewSurvey = async () => {\r\n\t\tsetStorage({ ...storage, loading: true });\r\n\t\tconst bytes32Questions = [];\r\n\t\tstorage.questions.forEach(question => {\r\n\t\t\tbytes32Questions.push(storage.utils.toHex(question));\r\n\t\t});\r\n\t\tconst bytes32Title = storage.utils.toHex(storage.surveyTitle);\r\n\t\tsurveysContract.methods.setSurvey(\r\n\t\t\tbytes32Title,\r\n\t\t\tbytes32Questions,\r\n\t\t\tstorage.maxParticipants,\r\n\t\t\tstorage.bigInt(storage.value).multiply(storage.bigInt(10).pow(18)).toString()\r\n\t\t).send({ from: storage.userAddress })\r\n\t\t\t.then(() => {\r\n\t\t\t\tsetStorage({\r\n\t\t\t\t\t...storage,\r\n\t\t\t\t\tsurveyTitle: undefined,\r\n\t\t\t\t\tquestions: undefined,\r\n\t\t\t\t\tvalue: undefined,\r\n\t\t\t\t\tmaxParticipants: undefined,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t});\r\n\t\t\t\tfor (let i = 0; i < 4; i++) {\r\n\t\t\t\t\tdocument.getElementsByTagName('input')[i].value = '';\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tsetStorage({\r\n\t\t\t\t\t...storage,\r\n\t\t\t\t\tsurveyTitle: undefined,\r\n\t\t\t\t\tquestions: undefined,\r\n\t\t\t\t\tvalue: undefined,\r\n\t\t\t\t\tmaxParticipants: undefined,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t});\r\n\t\t\t\tfor (let i = 0; i < 4; i++) {\r\n\t\t\t\t\tdocument.getElementsByTagName('input')[i].value = '';\r\n\t\t\t\t}\r\n\t\t\t\talert(err.message);\r\n\t\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Container>\r\n\t\t\t\t<Title\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t/>\r\n\t\t\t\t<Value\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t/>\r\n\t\t\t\t<Participants\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t/>\r\n\t\t\t</Container>\r\n\t\t\t<Container>\r\n\t\t\t\t<Questions\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t/>\r\n\t\t\t</Container>\r\n\t\t\t<Container>\r\n\t\t\t\t<Buttons\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t\tsurveysAddress={surveysAddress}\r\n\t\t\t\t\ttokenContract={tokenContract}\r\n\r\n\t\t\t\t\tapprove={approve}\r\n\t\t\t\t\tsendToBC={setNewSurvey}\r\n\t\t\t\t/>\r\n\t\t\t</Container>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Body;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nconst Survey = styled.div`\r\n\tposition: fixed;\r\n\tleft: 50%;\r\n\ttop: 50%;\r\n\ttransform: translate(-50%, -50%);\r\n\r\n\tbackground-color: #3EECAC;\r\n\tbackground-image: linear-gradient(19deg, #3EECAC 0%, #EE74E1 100%);\r\n\r\n\tbox-shadow: 1px 5px 7px 0px rgba(0, 0, 0, 0.3), 1px 3px 5px 0px rgba(0, 0, 0, 0.15);\r\n\twidth: 23em;\r\n\r\n\ttext-align: center;\r\n\t.clickable:hover {\r\n\t\tcolor: #3e005c;\r\n\t\tcursor: pointer;\r\n\t}\r\n`;\r\nconst Title = styled.div`\r\n\twidth: 100%;\r\n\tborder-bottom: 1px solid black;\r\n\tmargin: 0;\r\n\tbox-shadow: 0 0 6px 0 rgba(0, 0, 0, 0.5), 0 0 4px 0 rgba(0, 0, 0, 0.4);\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tP {\r\n\t\tfont-size: 1.75em;\r\n\t\tpadding: 0 2em;\r\n\t\ttext-overflow: ellipsis;\r\n\t\toverflow: hidden;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\tsvg {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tright: 0;\r\n\t\tmargin: 1.5rem 0.5rem;\r\n\t\tcolor: #1a1a1a;\r\n\t}\r\n`;\r\nconst Body = styled.div`\r\n\tmargin-top: 6em;\r\n\tmax-height: 30em;\r\n\toverflow-y: scroll;\r\n\t-ms-overflow-style: none;\r\n\tscrollbar-width: none;\r\n\t&::-webkit-scrollbar {\r\n\t\tdisplay: none;\r\n\t}\r\n\tp {\r\n\t\tfont-size: 1.4em;\r\n\t\tmargin: 0.5em 0 0 0;\r\n\t}\r\n\tinput[type=\"text\"] {\r\n\t\tdisplay: inline;\r\n\t\twidth: 70%;\r\n\t\tmargin: 0.6em 0;\r\n\t\tbox-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.175);\r\n\t}\r\n\tinput[type=\"checkbox\"] {\r\n\t\tbox-shadow: 0 0 black !important;\r\n\t}\r\n\tbutton {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 50%;\r\n\t\tmargin: 1em 0;\r\n\t\tbox-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.175);\r\n\t\tbackground-color: #1a1a1a;\r\n\t\tcolor: #fdfcfa;\r\n\t\t&:hover {\r\n\t\t\tbackground-color: #B3315F;\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nconst SurveyMask = styled.div`\r\n\tposition: fixed;\r\n\tbackground-color: rgba(0,0,0,0.5);\r\n\ttop: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n`;\r\n\r\nfunction SelectedSurvey({ loading, showSurvey, selectedSurvey, showPoll, selectedPoll, body, exit}) {\r\n\r\n\tlet loadingBar = <></>\r\n\tif (loading && (selectedSurvey !== undefined || selectedPoll !== undefined)) {\r\n\t\tloadingBar =\r\n\t\t\t<div className=\"progress\" style={{ width: \"100%\" }}>\r\n\t\t\t\t<div className=\"progress-bar progress-bar-striped progress-bar-animated\"></div>\r\n\t\t\t</div>\r\n\t}\r\n\r\n\tlet survey;\r\n\tlet surveyMask;\r\n\tif (showSurvey || showPoll) {\r\n\t\tsurvey =\r\n\t\t\t<Survey>\r\n\t\t\t\t<Title className=\"title\" id=\"title\">\r\n\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\tclassName=\"clickable\"\r\n\t\t\t\t\t\ticon=\"times\"\r\n\t\t\t\t\t\tsize=\"3x\"\r\n\t\t\t\t\t\tonClick={exit}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<p>{showSurvey ? selectedSurvey : showPoll ? selectedPoll : ''}</p>\r\n\t\t\t\t</Title>\r\n\t\t\t\t<Body className=\"body\">\r\n\t\t\t\t\t{loadingBar}\r\n\t\t\t\t\t{body}\r\n\t\t\t\t</Body>\r\n\t\t\t</Survey>\r\n\t\tsurveyMask = <SurveyMask onClick={exit}></SurveyMask>\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{surveyMask}\r\n\t\t\t{survey}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default SelectedSurvey;","import React, { useEffect } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nfunction GetQuestions({ storage, setStorage, updateAnswers, surveysContract }) {\r\n\r\n\tconst getSurveyQuestions = async () => {\r\n\t\tsetStorage({\r\n\t\t\t...storage,\r\n\t\t\tloading: true\r\n\t\t});\r\n\t\tconst newBytes32Questions = await surveysContract.methods.getSurveyStringToBytes32ArrayStorage(storage.utils.asciiToHex(storage.selectedSurvey), 'questions').call();\r\n\t\tconst newStringQuestions = [];\r\n\t\tnewBytes32Questions.forEach(question => {\r\n\t\t\tnewStringQuestions.push(storage.utils.hexToUtf8(question));\r\n\t\t});\r\n\t\tsetStorage({\r\n\t\t\t...storage,\r\n\t\t\tloading: false,\r\n\t\t\tquestions: newStringQuestions\r\n\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (storage.questions === undefined && storage.showSurvey && storage.selectedSurvey !== undefined && storage.userAddress !== undefined) {\r\n\t\t\tgetSurveyQuestions();\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\r\n\t\t\t{\r\n\t\t\t\tstorage.questions !== undefined ?\r\n\t\t\t\t\tstorage.questions\r\n\t\t\t\t\t\t.map((val) =>\r\n\t\t\t\t\t\t\t<React.Fragment key={uuidv4()}>\r\n\t\t\t\t\t\t\t\t<p>{val}</p>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name={val} placeholder=\"Your Answer\" onChange={updateAnswers} />\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t: <></>\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default GetQuestions;","import React from 'react';\r\nimport Questions from './GetQuestions';\r\nimport Web3 from 'web3';\r\nconst web3 = new Web3(Web3.givenProvider);\r\n\r\nfunction Data({ storage, setStorage, surveysContract }) {\r\n\r\n\tlet newAnswers = {};\r\n\tconst updateAnswers = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tnewAnswers[event.target.name] = event.target.value;\r\n\t}\r\n\r\n\tconst sendAnswer = async (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tsetStorage({\r\n\t\t\t...storage,\r\n\t\t\tloading: true,\r\n\t\t});\r\n\t\tlet bytes32Answers = [];\r\n\t\tstorage.questions.forEach(question => {\r\n\t\t\tconst stringAnswer = newAnswers[question];\r\n\t\t\tconsole.log(stringAnswer);\r\n\t\t\tconst bytes32Answer = web3.utils.asciiToHex(stringAnswer);\r\n\t\t\tconsole.log(bytes32Answer);\r\n\t\t\tbytes32Answers.push(bytes32Answer);\r\n\t\t});\r\n\t\tconsole.log(bytes32Answers);\r\n\t\tawait surveysContract.methods.surveyParticipation(web3.utils.asciiToHex(storage.selectedSurvey), bytes32Answers).send({ from: storage.userAddress })\r\n\t\t\t.then(() =>\r\n\t\t\t\tsetStorage({\r\n\t\t\t\t\t...storage,\r\n\t\t\t\t\tanswers: undefined,\r\n\t\t\t\t\tshowSurvey: false,\r\n\t\t\t\t\tselectedSurvey: undefined,\r\n\t\t\t\t\tquestions: undefined,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Questions\r\n\t\t\t\tstorage={storage}\r\n\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\tupdateAnswers={updateAnswers}\r\n\t\t\t\tsurveysContract={surveysContract}\r\n\t\t\t/>\r\n\t\t\t<button type=\"button\" onClick={sendAnswer}>Submit</button>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Data;","import React, { useEffect } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport styled from 'styled-components';\r\n\r\nconst Survey = styled.div`\r\n\tmax-width: 20rem;\r\n\tword-wrap: break-word;\r\n\tmargin: 2em;\r\n\ttext-align: center;\r\n\tbutton {\r\n\t\tdisplay: inline-block;\r\n\t\tmargin: 2em !important;\r\n\t\twidth: 15rem;\r\n}\r\n`;\r\n\r\nfunction GetTitles({ storage, setStorage, surveysContract }) {\r\n\t\r\n\tconst getSurveys = async () => {\r\n    setStorage({\r\n      ...storage,\r\n      loading: true \r\n    });\r\n\t\tconst newBytes32Titles = await surveysContract.methods.getStringToBytes32ArrayStorrage('surveys').call();\r\n\t\tconst newStringTitles = [];\r\n\t\tnewBytes32Titles.forEach(title => {\r\n\t\t\tnewStringTitles.push(storage.utils.hexToUtf8(title));\r\n\t\t});\r\n    setStorage({\r\n\t\t\t...storage,\r\n\t\t\tallSurevyTitles: newStringTitles,\r\n      loading: false \r\n    });\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (storage.allSurevyTitles === undefined)\r\n\t\t\tgetSurveys();\r\n\t}, [storage.userAddress]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{\r\n\t\t\t\tstorage.allSurevyTitles !== undefined\r\n\t\t\t\t\t? storage.allSurevyTitles\r\n\t\t\t\t\t\t.filter(val => val.includes(storage.searchVal))\r\n\t\t\t\t\t\t.map((val) =>\r\n\t\t\t\t\t\t\t<Survey key={uuidv4()} className=\"card-default\">\r\n\t\t\t\t\t\t\t\t\t<h4>{val}</h4>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetStorage({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...storage,\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowSurvey: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tselectedSurvey: val\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tParticipate\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</Survey>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t: <></>\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default GetTitles;","import React from 'react'\r\nimport styled from 'styled-components';\r\nimport SelectedSurvey from '../../Components/SelectedSurevyOrPollWindow.js';\r\nimport SelectedSurveyData from './SelectedSurveyData.js';\r\nimport Titles from './GetTitles.js';\r\n\r\nconst Container = styled.div`\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: center;\r\n\talign-items: flex-end;\r\n`;\r\n\r\nfunction Body({ storage, setStorage, surveysContract }) {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Container>\r\n\t\t\t\t<Titles\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t\tsurveysContract={surveysContract}\r\n\t\t\t\t/>\r\n\t\t\t\t<SelectedSurvey\r\n\t\t\t\t\tloading={storage.loading}\r\n\t\t\t\t\tshowSurvey={storage.showSurvey}\r\n\t\t\t\t\tselectedSurvey={storage.selectedSurvey}\r\n\t\t\t\t\tbody=\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t<SelectedSurveyData\r\n\t\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t\t\t\tsurveysContract={surveysContract}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t\texit=\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t() => {\r\n\t\t\t\t\t\t\tsetStorage({\r\n\t\t\t\t\t\t\t\t...storage,\r\n\t\t\t\t\t\t\t\tshowSurvey: false,\r\n\t\t\t\t\t\t\t\tselectedSurvey: undefined,\r\n\t\t\t\t\t\t\t\tquestions: undefined,\r\n\t\t\t\t\t\t\t\tanswers: undefined\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Container>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Body;","import React from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport styled from 'styled-components';\r\n\r\nconst Div = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  .body {\r\n    margin-bottom: 3em;\r\n    input {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n  .button {\r\n    display: inline-block;\r\n    position: absolute;\r\n    bottom: 0;\r\n    margin-bottom: 1em;\r\n  }\r\n`;\r\n\r\nfunction Choices({ storage, setStorage }) {\r\n\r\n  let newChoiceValue;\r\n  const saveNewChoiceValue = (event) => {\r\n    event.preventDefault();\r\n    newChoiceValue = event.target.value;\r\n  }\r\n  const addNewChoice = (event) => {\r\n    event.preventDefault();\r\n    let newChoices = [];\r\n    if (storage.choices !== undefined)\r\n      newChoices = [...storage.choices];\r\n    newChoices.push(newChoiceValue);\r\n    setStorage({ ...storage, choices: newChoices });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Div className=\"card-default\">\r\n        <div className=\"body\">\r\n          {\r\n            storage.choices === undefined\r\n              ? <h4>\r\n                Choose poll choices.\r\n                </h4>\r\n              : <h4 key={uuidv4()}>{storage.choices.map((val) => (val + ', '))}</h4>\r\n          }\r\n          <input type=\"text\" className=\"form-control\" placeholder=\"Choices\" onChange={saveNewChoiceValue} />\r\n        </div>\r\n        <div className=\"button\">\r\n          <button type=\"button\" onClick={addNewChoice}>\r\n            Save new choices\r\n          </button>\r\n        </div>\r\n      </Div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Choices;","import React from 'react'\r\n\r\nfunction Title({ storage, setStorage }) {\r\n\r\n  const saveNewTitleValue = (event) => {\r\n    event.preventDefault();\r\n    setStorage({ ...storage, pollTitle: event.target.value });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"card-default\">\r\n        {\r\n          storage.pollTitle\r\n            ? <h4>\r\n              Title of your poll is \"{storage.pollTitle}\".\r\n                </h4>\r\n            : <h4>\r\n              Set poll title.\r\n                </h4>\r\n        }\r\n        <input type=\"text\" placeholder=\"Title\" onChange={saveNewTitleValue} />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Title;","import React from 'react'\r\n\r\nfunction Value({ storage, setStorage }) {\r\n\r\n  const saveNewValue = (event) => {\r\n    event.preventDefault();\r\n    setStorage({ ...storage, value: event.target.value });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"card-default\">\r\n        {\r\n          storage.value\r\n            ? <h4>Your poll has {storage.value} SVT for distribution</h4>\r\n            : <h4>Set poll value.</h4>\r\n        }\r\n        <input type=\"number\" placeholder=\"Value\" onChange={saveNewValue} />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Value;","import React from 'react'\r\n\r\nfunction Participants({ storage, setStorage }) {\r\n\r\n  const saveNewMaxParticipants = (event) => {\r\n    event.preventDefault();\r\n    setStorage({ ...storage, maxParticipants: event.target.value })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"card-default\">\r\n        {\r\n          storage.maxParticipants\r\n            ? <h4>\r\n              Your poll allows {storage.maxParticipants} people to participate.\r\n                </h4>\r\n            : <h4>\r\n              Set poll total paricipants.\r\n                </h4>\r\n        }\r\n        <input type=\"number\" placeholder=\"Participants\" onChange={saveNewMaxParticipants} />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Participants;","import React, { useEffect } from 'react';\r\n\r\nfunction SetButtons({\r\n\tstorage,\r\n\tsetStorage,\r\n\tapprove,\r\n\tsetNewPoll,\r\n\ttokenContract,\r\n\tpollAddress\r\n}) {\r\n\r\n\tconst isOperator = async () => {\r\n\t\tlet newPollContractApproved = await tokenContract.methods.isOperatorFor(pollAddress, storage.userAddress).call();\r\n\t\tsetStorage({\r\n\t\t\t...storage,\r\n\t\t\tpollContractApproved: newPollContractApproved\r\n\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (storage.pollContractApproved === undefined && storage.userAddress !== undefined) {\r\n\t\t\tisOperator();\r\n\t\t}\r\n\t})\r\n\r\n\tlet approveButton;\r\n\tif (!storage.pollContractApproved) {\r\n\t\tapproveButton =\r\n\t\t\t<button type=\"button\" onClick={approve}>\r\n\t\t\t\tApprove\r\n\t\t\t</button>\r\n\t}\r\n\telse {\r\n\t\tapproveButton = <></>\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{approveButton}\r\n\t\t\t<button type=\"button\" onClick={setNewPoll}>\r\n\t\t\t\tLet's go\r\n\t\t\t</button>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default SetButtons;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Questions from './SetChoices.js';\r\nimport Title from './SetTitle.js';\r\nimport Value from './SetValue.js';\r\nimport Participants from './SetParticipants.js';\r\nimport Buttons from './SetButtons.js';\r\n\r\nconst Container = styled.div`\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: center;\r\n\talign-items: flex-end;\r\n\tbutton {\r\n\t\tdisplay: block;\r\n\t\tmargin 2em;\r\n\t\twidth: 18em;\r\n\t\tbox-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.175);\r\n\t}\r\n`;\r\n\r\nfunction Body({\r\n\tstorage,\r\n\tsetStorage,\r\n\tpollAddress,\r\n\tpollContract,\r\n\ttokenContract\r\n}) {\r\n\tconst approve = async () => {\r\n\t\tawait tokenContract.methods.authorizeOperator(pollAddress).send({ from: storage.userAddress });\r\n\t}\r\n\tconst setNewPoll = async () => {\r\n\t\tsetStorage({ ...storage, loading: true });\r\n\t\tconst bytes32Chices = [];\r\n\t\tstorage.choices.forEach(choice => {\r\n\t\t\tbytes32Chices.push(storage.utils.toHex(choice));\r\n\t\t});\r\n\t\tconst bytes32Title = storage.utils.toHex(storage.pollTitle);\r\n\t\tpollContract.methods.setPoll(\r\n\t\t\tbytes32Title,\r\n\t\t\tbytes32Chices,\r\n\t\t\tstorage.maxParticipants,\r\n\t\t\tstorage.bigInt(storage.value).multiply(storage.bigInt(10).pow(18)).toString()\r\n\t\t).send({ from: storage.userAddress })\r\n\t\t\t.then(() => {\r\n\t\t\t\tsetStorage({\r\n\t\t\t\t\t...storage,\r\n\t\t\t\t\tpollTitle: undefined,\r\n\t\t\t\t\tchoices: undefined,\r\n\t\t\t\t\tvalue: undefined,\r\n\t\t\t\t\tmaxParticipants: undefined,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t});\r\n\t\t\t\tfor (let i = 0; i < 4; i++) {\r\n\t\t\t\t\tdocument.getElementsByTagName('input')[i].value = '';\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tsetStorage({\r\n\t\t\t\t\t...storage,\r\n\t\t\t\t\tpollTitle: undefined,\r\n\t\t\t\t\tchoices: undefined,\r\n\t\t\t\t\tvalue: undefined,\r\n\t\t\t\t\tmaxParticipants: undefined,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t});\r\n\t\t\t\tfor (let i = 0; i < 4; i++) {\r\n\t\t\t\t\tdocument.getElementsByTagName('input')[i].value = '';\r\n\t\t\t\t}\r\n\t\t\t\talert(err.message);\r\n\t\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Container>\r\n\t\t\t\t<Title\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t/>\r\n\t\t\t\t<Value\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t/>\r\n\t\t\t\t<Participants\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t/>\r\n\t\t\t</Container>\r\n\t\t\t<Container>\r\n\t\t\t\t<Questions\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t/>\r\n\t\t\t</Container>\r\n\t\t\t<Container>\r\n\t\t\t\t<Buttons\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t\ttokenContract={tokenContract}\r\n\t\t\t\t\tpollAddress={pollAddress}\r\n\r\n\t\t\t\t\tapprove={approve}\r\n\t\t\t\t\tsetNewPoll={setNewPoll}\r\n\t\t\t\t/>\r\n\t\t\t</Container>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Body;","import React, { useEffect } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport styled from 'styled-components';\r\n\r\nconst P = styled.p`\r\n\tcolor: ${props => { if (props.choice === props.selectedChoice) return ('#3e005c') }};\r\n`;\r\n\r\nfunction GetChoices({ storage, setStorage, pollContract }) {\r\n\r\n\tconst getSurveyChoices = async () => {\r\n\t\tsetStorage({\r\n\t\t\t...storage,\r\n\t\t\tloading: true\r\n\t\t});\r\n\t\tlet newBytes32Choices = await pollContract.methods.getPollStringToBytes32ArrayStorage(storage.utils.asciiToHex(storage.selectedPoll), 'choices').call();\r\n\t\tlet newStringChices = [];\r\n\t\tnewBytes32Choices.forEach(choice => {\r\n\t\t\tnewStringChices.push(storage.utils.hexToUtf8(choice));\r\n\t\t});\r\n\t\tsetStorage({\r\n\t\t\t...storage,\r\n\t\t\tloading: false,\r\n\t\t\tchoices: newStringChices\r\n\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (storage.choices === undefined && storage.showPoll && storage.selectedPoll !== undefined && storage.userAddress !== undefined) {\r\n\t\t\tgetSurveyChoices();\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{\r\n\t\t\t\tstorage.choices !== undefined ?\r\n\t\t\t\t\tstorage.choices\r\n\t\t\t\t\t\t.map((val) =>\r\n\t\t\t\t\t\t\t<P\r\n\t\t\t\t\t\t\t\tclassName=\"clickable\"\r\n\t\t\t\t\t\t\t\tkey={uuidv4()}\r\n\t\t\t\t\t\t\t\tchoice={val}\r\n\t\t\t\t\t\t\t\tselectedChoice={storage.choice}\r\n\t\t\t\t\t\t\t\tonClick={(res) =>\r\n\t\t\t\t\t\t\t\t\tsetStorage({ ...storage, choice: res.target.firstChild.nodeValue })\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{val}\r\n\t\t\t\t\t\t\t</P>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t: <></>\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default GetChoices;","import React from 'react';\r\nimport Choices from './GetChoices';\r\n\r\nfunction Data({ storage, setStorage, pollContract }) {\r\n\r\n\tconst sendAnswer = async (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tsetStorage({\r\n\t\t\t...storage,\r\n\t\t\tloading: true,\r\n\t\t});\r\n\t\tpollContract.methods.pollParticipation(storage.utils.asciiToHex(storage.selectedPoll), storage.utils.asciiToHex(storage.choice)).send({ from: storage.userAddress })\r\n\t\t\t.then(() =>\r\n\t\t\t\tsetStorage({\r\n\t\t\t\t\t...storage,\r\n\t\t\t\t\tshowPoll: false,\r\n\t\t\t\t\tselectedPoll: undefined,\r\n\t\t\t\t\tchoices: undefined,\r\n\t\t\t\t\tchoice: undefined,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Choices\r\n\t\t\t\tstorage={storage}\r\n\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\tpollContract={pollContract}\r\n\t\t\t/>\r\n\t\t\t<button type=\"button\" onClick={sendAnswer}>Submit</button>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Data;","import React, { useEffect } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport styled from 'styled-components';\r\n\r\nconst Survey = styled.div`\r\n\tmax-width: 20rem;\r\n\tword-wrap: break-word;\r\n\tmargin: 2em;\r\n\ttext-align: center;\r\n\tbutton {\r\n\t\tdisplay: inline-block;\r\n\t\tmargin: 2em !important;\r\n\t\twidth: 15rem;\r\n}\r\n`;\r\n\r\nfunction GetTitles({ storage, setStorage, pollContract }) {\r\n\t\r\n\tconst getSurveys = async () => {\r\n    setStorage({\r\n      ...storage,\r\n      loading: true \r\n    });\r\n\t\tlet newBytes32Titles = await pollContract.methods.getStringToBytes32ArrayStorrage('polls').call();\r\n\t\tlet newStringTitles = [];\r\n\t\tnewBytes32Titles.forEach(title => {\r\n\t\t\tnewStringTitles.push(storage.utils.hexToUtf8(title));\r\n\t\t});\r\n    setStorage({\r\n\t\t\t...storage,\r\n\t\t\tallPollTitles: newStringTitles,\r\n      loading: false \r\n    });\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (storage.allPollTitles === undefined)\r\n\t\t\tgetSurveys();\r\n\t}, [storage.userAddress]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{\r\n\t\t\t\tstorage.allPollTitles !== undefined\r\n\t\t\t\t\t? storage.allPollTitles\r\n\t\t\t\t\t\t.filter(val => val.includes(storage.searchVal))\r\n\t\t\t\t\t\t.map((val) =>\r\n\t\t\t\t\t\t\t<Survey key={uuidv4()} className=\"card-default\">\r\n\t\t\t\t\t\t\t\t\t<h4>{val}</h4>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetStorage({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...storage,\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowPoll: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tselectedPoll: val\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tParticipate\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</Survey>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t: <></>\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default GetTitles;","import React from 'react'\r\nimport styled from 'styled-components';\r\nimport SelectedPoll from '../../Components/SelectedSurevyOrPollWindow.js';\r\nimport SelectedPollData from './SelectedPollData.js';\r\nimport Titles from './GetTitles.js';\r\n\r\nconst Container = styled.div`\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: center;\r\n\talign-items: flex-end;\r\n`;\r\n\r\nfunction Body({ storage, setStorage, pollContract }) {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Container>\r\n\t\t\t\t<Titles\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t\tpollContract={pollContract}\r\n\t\t\t\t/>\r\n\t\t\t\t<SelectedPoll\r\n\t\t\t\t\tloading={storage.loading}\r\n\t\t\t\t\tshowPoll={storage.showPoll}\r\n\t\t\t\t\tselectedPoll={storage.selectedPoll}\r\n\t\t\t\t\tbody=\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t<SelectedPollData\r\n\t\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t\t\t\tpollContract={pollContract}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t\texit=\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t() => {\r\n\t\t\t\t\t\t\tsetStorage({\r\n\t\t\t\t\t\t\t\t...storage,\r\n\t\t\t\t\t\t\t\tshowPoll: false,\r\n\t\t\t\t\t\t\t\tselectedPoll: undefined,\r\n\t\t\t\t\t\t\t\tchoices: undefined,\r\n\t\t\t\t\t\t\t\tchoice: undefined\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Container>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Body;","import React, { useEffect } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport styled from 'styled-components';\r\n\r\nconst Container = styled.div`\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: center;\r\n\talign-items: flex-end;\r\n\tword-wrap: break-word;\r\n\th2 {\r\n\t\tpadding: 1em 0 0em 0;\r\n\t\tcolor: #fff;\r\n\t}\r\n\tdiv {\r\n\t\twidth: 20rem;\r\n\t\tword-wrap: break-word;\r\n\t\ttext-align: center;\r\n\t\tmargin: 2rem;\r\n\t\th4 {\r\n\t\t\tmargin: 2em 1em 0.5em 1em;\r\n\t\t}\r\n\t\tbutton {\r\n\t\t\tmargin: 2em 1em 1em 1em;\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nfunction GetUserSurveys({ storage, setStorage, surveysContract }) {\r\n\r\n\tconst getUserSurveys = async () => {\r\n\t\tsetStorage({\r\n\t\t\t...storage,\r\n\t\t\tloading: true\r\n\t\t});\r\n\t\tconst newBytes32Titles = await surveysContract.methods.getUserStringToBytes32ArrayStorage('surveys').call({ from: storage.userAddress });\r\n\t\tconst newStringTitles = [];\r\n\t\tnewBytes32Titles.forEach(title => {\r\n\t\t\tnewStringTitles.push(storage.utils.hexToUtf8(title));\r\n\t\t});\r\n\t\tsetStorage({\r\n\t\t\t...storage,\r\n\t\t\tnrOfUserSurveys: newStringTitles.length,\r\n\t\t\tuserSurveyTitles: newStringTitles,\r\n\t\t\tloading: false\r\n\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (storage.nrOfUserSurveys === undefined && storage.userSurveyTitles === undefined && storage.userAddress !== undefined) {\r\n\t\t\tgetUserSurveys();\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Container>\r\n\t\t\t\t<h2>\r\n\t\t\t\t\tYou have created {storage.nrOfUserSurveys} {storage.nrOfUserPolls !== undefined && (storage.nrOfUserPolls.lenght > 1 || storage.nrOfUserPolls.lenght === 0) ? 'surveys' : 'survey'}.\r\n\t\t\t\t</h2>\r\n\t\t\t</Container>\r\n\t\t\t<Container>\r\n\t\t\t\t{\r\n\t\t\t\t\tstorage.userSurveyTitles !== undefined\r\n\t\t\t\t\t\t? storage.userSurveyTitles\r\n\t\t\t\t\t\t\t.filter(val => val.includes(storage.searchVal))\r\n\t\t\t\t\t\t\t.map(val =>\r\n\t\t\t\t\t\t\t\t<div key={uuidv4()} className=\"card-default\">\r\n\t\t\t\t\t\t\t\t\t<h4>{val}</h4>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetStorage({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...storage,\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowSurvey: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tselectedSurvey: val\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tShow details\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t: <></>\r\n\t\t\t\t}\r\n\t\t\t</Container>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default GetUserSurveys;","import React, { useEffect } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nfunction GetSurveyQuestions({ storage, setStorage, surveysContract }) {\r\n\r\n\tconst getSurveyQuestions = async () => {\r\n\t\tsetStorage({\r\n\t\t\t...storage,\r\n\t\t\tloading: true\r\n\t\t});\r\n\t\tconst newBytes32Questions = await surveysContract.methods.getSurveyStringToBytes32ArrayStorage(storage.utils.asciiToHex(storage.selectedSurvey), 'questions').call();\r\n\t\tconst newStringQuestions = [];\r\n\t\tnewBytes32Questions.forEach(question => {\r\n\t\t\tnewStringQuestions.push(storage.utils.hexToUtf8(question));\r\n\t\t});\r\n\t\tsetStorage({\r\n\t\t\t...storage,\r\n\t\t\tquestions: newStringQuestions,\r\n\t\t\tloading: false\r\n\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (storage.questions === undefined && storage.showSurvey) {\r\n\t\t\tgetSurveyQuestions();\r\n\t\t}\r\n\t});\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{\r\n\t\t\t\tstorage.questions !== undefined\r\n\t\t\t\t\t? storage.questions.map(val =>\r\n\t\t\t\t\t\t<th scope=\"col\" key={uuidv4()}>{val}</th>\r\n\t\t\t\t\t)\r\n\t\t\t\t\t: <></>\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default GetSurveyQuestions;","import React, { useEffect } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nfunction GetSurveyAnswers({ storage, setStorage, surveysContract }) {\r\n\r\n\tconst getSurveyAnswers = async () => {\r\n\t\tsetStorage({\r\n\t\t\t...storage,\r\n\t\t\tloading: true\r\n\t\t});\r\n\t\tlet surveyTotalParticipants = await surveysContract.methods.getSurveyUintStorage(storage.utils.asciiToHex(storage.selectedSurvey), 'totalParticipated').call();\r\n\t\tlet newStringAnswers = [];\r\n\t\tfor (let i = 0; i < surveyTotalParticipants; i++) {\r\n\t\t\tconst newBytes32OneUserAnswers = await surveysContract.methods.getSurveyUintToBytes32ArrayStorage(storage.utils.asciiToHex(storage.selectedSurvey), i).call();\r\n\t\t\tnewStringAnswers[i] = [];\r\n\t\t\tnewBytes32OneUserAnswers.forEach(oneUserAnswer => {\r\n\t\t\t\tnewStringAnswers[i].push(storage.utils.hexToUtf8(oneUserAnswer));\r\n\t\t\t});\r\n\t\t}\r\n\t\tconsole.log(newStringAnswers);\r\n\t\tsetStorage({\r\n\t\t\t...storage,\r\n\t\t\tanswers: newStringAnswers,\r\n\t\t\tloading: false\r\n\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (storage.answers === undefined && storage.showSurvey) {\r\n\t\t\tgetSurveyAnswers();\r\n\t\t}\r\n\t});\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{\r\n\t\t\t\tstorage.answers !== undefined\r\n\t\t\t\t\t? storage.answers.map(val1 =>\r\n\t\t\t\t\t\t<tr key={uuidv4()}>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tval1.map(val2 =>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\" key={uuidv4()}>{val2}</th>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t)\r\n\t\t\t\t\t: <></>\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default GetSurveyAnswers;","import React from 'react'\r\nimport Questions from './GetQuestions';\r\nimport Answers from './GetAnswers';\r\nimport styled from 'styled-components';\r\n\r\nconst Table = styled.table`\r\n\tth {\r\n\t\tborder: 0px !important;\r\n\t\tborder-bottom: 1px solid #1a1a1a !important;\r\n\t}\r\n`;\r\n\r\nfunction Data({ storage, setStorage, surveysContract }) {\r\n\treturn (\r\n\t\t<Table className=\"table\">\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<Questions\r\n\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t\t\tsurveysContract={surveysContract}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t\t<Answers\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t\tsurveysContract={surveysContract}\r\n\t\t\t\t/>\r\n\t\t\t</tbody>\r\n\t\t</Table>\r\n\t);\r\n}\r\n\r\nexport default Data;","import React from 'react'\r\nimport styled from 'styled-components';\r\n\r\nconst Button = styled.button`\r\n\tmargin: 0 1em;\r\n`;\r\n\r\nfunction ExportData({ answers, questions, selectedSurvey }) {\r\n\r\n\tconst exportJSON = () => {\r\n\t\tconst data = [];\r\n\t\tanswers.map(aVal => {\r\n\t\t\tlet newData = {};\r\n\t\t\tquestions.split(',').map((val, i) => {\r\n\t\t\t\tnewData[val] = aVal.split(',')[i];\r\n\t\t\t\treturn 0;\r\n\t\t\t});\r\n\t\t\tdata.push(newData);\r\n\t\t\treturn 0;\r\n\t\t});\r\n\r\n\t\tconst json = JSON.stringify(data);\r\n\r\n\t\tconst blob = new Blob([json], { type: 'data/json' });\r\n\t\tconst url = window.URL.createObjectURL(blob);\r\n\t\tconst a = document.createElement('a');\r\n\t\ta.setAttribute('hidden', '');\r\n\t\ta.setAttribute('href', url);\r\n\t\ta.setAttribute('download', `${selectedSurvey}.json`)\r\n\t\tdocument.body.appendChild(a);\r\n\t\ta.click();\r\n\t\tdocument.body.removeChild(a);\r\n\t}\r\n\r\n\tconst exportCSV = () => {\r\n\t\tconst csvRows = [];\r\n\t\tcsvRows.push(questions);\r\n\r\n\t\tfor (let i = 0; i < answers.length; i++) {\r\n\t\t\tcsvRows.push(answers[i]);\r\n\t\t}\r\n\r\n\t\tconst data = csvRows.join('\\n');\r\n\r\n\t\tconst blob = new Blob([data], { type: 'data/csv' });\r\n\t\tconst url = window.URL.createObjectURL(blob);\r\n\t\tconst a = document.createElement('a');\r\n\t\ta.setAttribute('hidden', '');\r\n\t\ta.setAttribute('href', url);\r\n\t\ta.setAttribute('download', `${selectedSurvey}.csv`)\r\n\t\tdocument.body.appendChild(a);\r\n\t\ta.click();\r\n\t\tdocument.body.removeChild(a);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Button type=\"button\" onClick={exportJSON}>Export JSON</Button>\r\n\t\t\t<Button type=\"button\" onClick={exportCSV}>Export CSV</Button>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default ExportData;","import React from 'react';\r\nimport SelectedSurvey from '../../Components/SelectedSurevyOrPollWindow.js';\r\nimport Surveys from './GetSurveys.js';\r\nimport Data from './SelectedSurveyData.js';\r\nimport Buttons from '../ExportDataButton.js';\r\n\r\n\r\nfunction Body({ storage, setStorage, surveysContract }) {\r\n\t\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Surveys\r\n\t\t\t\tstorage={storage}\r\n\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\tsurveysContract={surveysContract}\r\n\t\t\t/>\r\n\t\t\t<SelectedSurvey\r\n\t\t\t\tshowSurvey={storage.showSurvey}\r\n\t\t\t\tselectedSurvey={storage.selectedSurvey}\r\n\t\t\t\tloading={storage.loading}\r\n\t\t\t\tbody={\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Data\r\n\t\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t\t\t\tsurveysContract={surveysContract}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Buttons\r\n\t\t\t\t\t\t\tanswers={storage.answers}\r\n\t\t\t\t\t\t\tquestions={storage.questions}\r\n\t\t\t\t\t\t\tselectedSurvey={storage.selectedSurvey}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t\texit=\r\n\t\t\t\t{\r\n\t\t\t\t\t() => {\r\n\t\t\t\t\t\tsetStorage({\r\n\t\t\t\t\t\t\t...storage,\r\n\t\t\t\t\t\t\tshowSurvey: false,\r\n\t\t\t\t\t\t\tselectedSurvey: undefined,\r\n\t\t\t\t\t\t\tquestions: undefined,\r\n\t\t\t\t\t\t\tanswers: undefined\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Body;","import React, { useEffect } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport styled from 'styled-components';\r\n\r\nconst Container = styled.div`\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: center;\r\n\talign-items: flex-end;\r\n\tword-wrap: break-word;\r\n\th2 {\r\n\t\tpadding: 1em 0 0em 0;\r\n\t\tcolor: #fff;\r\n\t}\r\n\tdiv {\r\n\t\twidth: 20rem;\r\n\t\tword-wrap: break-word;\r\n\t\ttext-align: center;\r\n\t\tmargin: 2rem;\r\n\t\th4 {\r\n\t\t\tmargin: 2em 1em 0.5em 1em;\r\n\t\t}\r\n\t\tbutton {\r\n\t\t\tmargin: 2em 1em 1em 1em;\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nfunction GetUserPolls({ storage, setStorage, pollContract }) {\r\n\r\n\tconst getUserPolls = async () => {\r\n\t\tsetStorage({\r\n\t\t\t...storage,\r\n\t\t\tloading: true\r\n\t\t});\r\n\t\tconst newBytes32Titles = await pollContract.methods.getUserStringToBytes32ArrayStorage('polls').call({ from: storage.userAddress });\r\n\t\tconst newStringTitles = [];\r\n\t\tnewBytes32Titles.forEach(title => {\r\n\t\t\tnewStringTitles.push(storage.utils.hexToUtf8(title))\r\n\t\t});\r\n\t\tsetStorage({\r\n\t\t\t...storage,\r\n\t\t\tnrOfUserPolls: newStringTitles.length,\r\n\t\t\tuserPollTitles: newStringTitles,\r\n\t\t\tloading: false\r\n\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (storage.nrOfUserPolls === undefined && storage.userPollTitles === undefined && storage.userAddress !== undefined) {\r\n\t\t\tgetUserPolls();\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Container>\r\n\t\t\t\t<h2>\r\n\t\t\t\t\tYou have created {storage.nrOfUserPolls} {storage.nrOfUserPolls !== undefined && (storage.nrOfUserPolls.lenght > 1 || storage.nrOfUserPolls.lenght === 0) ? 'polls' : 'poll'}.\r\n\t\t\t\t</h2>\r\n\t\t\t</Container>\r\n\t\t\t<Container>\r\n\t\t\t\t{\r\n\t\t\t\t\tstorage.userPollTitles !== undefined\r\n\t\t\t\t\t\t? storage.userPollTitles\r\n\t\t\t\t\t\t\t.filter(val => val.includes(storage.searchVal))\r\n\t\t\t\t\t\t\t.map(val =>\r\n\t\t\t\t\t\t\t\t<div key={uuidv4()} className=\"card-default\">\r\n\t\t\t\t\t\t\t\t\t<h4>{val}</h4>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetStorage({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...storage,\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowPoll: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tselectedPoll: val\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tShow details\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t: <></>\r\n\t\t\t\t}\r\n\t\t\t</Container>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default GetUserPolls;","import React, { useEffect } from 'react';\r\n\r\nfunction GetChoiceVotes({ storage, setStorage, pollContract }) {\r\n\tconst getChoiceVotes = async () => {\r\n\t\tsetStorage({\r\n\t\t\t...storage,\r\n\t\t\tloading: true\r\n\t\t});\r\n\t\tlet newVotes = {};\r\n\t\tstorage.choices.forEach(async choice => {\r\n\t\t\tconst nrOfVotes = await pollContract.methods.getPollBytes32UintStorage(storage.utils.asciiToHex(storage.selectedPoll), storage.utils.asciiToHex(choice)).call();\r\n\t\t\tnewVotes[choice] = nrOfVotes;\r\n\t\t});\r\n\t\tconsole.log(newVotes);\r\n\t\tsetStorage({\r\n\t\t\t...storage,\r\n\t\t\tloading: false,\r\n\t\t\tvotes: newVotes\r\n\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif(storage.choices !== undefined && storage.votes === undefined) {\r\n\t\t\tgetChoiceVotes();\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<> </>\r\n\t);\r\n}\r\n\r\nexport default GetChoiceVotes;","import React, { useEffect } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport ChoiceVotes from './GetChoiceVotes.js';\r\n\r\nfunction GetPollChoices({ storage, setStorage, pollContract }) {\r\n\r\n\tconst getPollChoices = async () => {\r\n\t\tsetStorage({\r\n\t\t\t...storage,\r\n\t\t\tloading: true\r\n\t\t});\r\n\t\tconst newBytes32Choices = await pollContract.methods.getPollStringToBytes32ArrayStorage(storage.utils.asciiToHex(storage.selectedPoll), 'choices').call();\r\n\t\tconst newStringChoices = [];\r\n\t\tnewBytes32Choices.forEach(async choice => {\r\n\t\t\tnewStringChoices.push(storage.utils.hexToUtf8(choice));\r\n\t\t});\r\n\t\tsetStorage({\r\n\t\t\t...storage,\r\n\t\t\tchoices: newStringChoices,\r\n\t\t\tloading: false\r\n\t\t});\r\n\t\tif(storage.choices !== undefined) storage.choices.map(val => console.log(val));\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (storage.choices === undefined && storage.showPoll) {\r\n\t\t\tgetPollChoices();\r\n\t\t}\r\n\t});\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ChoiceVotes storage={storage} setStorage={setStorage} pollContract={pollContract} />\r\n\t\t\t{\r\n\t\t\t\tstorage.choices !== undefined\r\n\t\t\t\t\t? storage.choices.map(val =>\r\n\t\t\t\t\t<p key={uuidv4()}>{val}: {storage.votes !== undefined ? storage.votes[val] : ''}</p>\r\n\t\t\t\t\t)\r\n\t\t\t\t\t: ''\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default GetPollChoices;","import React from 'react';\r\nimport SelectedPoll from '../../Components/SelectedSurevyOrPollWindow.js';\r\nimport Surveys from './GetPolls.js';\r\nimport Choices from './GetChoices';\r\nimport Buttons from '../ExportDataButton.js';\r\n\r\n\r\nfunction Body({ storage, setStorage, pollContract }) {\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Surveys\r\n\t\t\t\tstorage={storage}\r\n\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\tpollContract={pollContract}\r\n\t\t\t/>\r\n\t\t\t<SelectedPoll\r\n\t\t\t\tshowPoll={storage.showPoll}\r\n\t\t\t\tselectedPoll={storage.selectedPoll}\r\n\t\t\t\tloading={storage.loading}\r\n\t\t\t\tbody={\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Choices\r\n\t\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t\t\t\tpollContract={pollContract}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Buttons\r\n\t\t\t\t\t\t\tanswers={storage.answers}\r\n\t\t\t\t\t\t\tquestions={storage.questions}\r\n\t\t\t\t\t\t\tselectedPoll={storage.selectedPoll}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t\texit=\r\n\t\t\t\t{\r\n\t\t\t\t\t() => {\r\n\t\t\t\t\t\tsetStorage({\r\n\t\t\t\t\t\t\t...storage,\r\n\t\t\t\t\t\t\tshowPoll: false,\r\n\t\t\t\t\t\t\tselectedPoll: undefined,\r\n\t\t\t\t\t\t\tchoices: undefined,\r\n\t\t\t\t\t\t\tvotes: undefined\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Body;","import React from 'react'\r\nimport styled from 'styled-components';\r\n\r\nconst Component = styled.div`\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: center;\r\n\talign-items: flex-end;\r\n`;\r\n\r\nfunction Body() {\r\n\treturn (\r\n\t\t<Component>\r\n\t\t\t<p>Our aim is to take surveys and vote programs from having a centralized storage to a decentralized one!</p>\r\n\t\t\t<p>Today many countries suffer from having to trust a centralized party to keep track of votes and to trust that their votes won't be fraudulously changed.</p>\r\n\t\t</Component>\r\n\t);\r\n}\r\n\r\nexport default Body;","import React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport DAPP from '../DAPP_Page/App_Page/Body.js';\r\nimport SET_SURVEY_BODY from '../DAPP_Page/Set_Survey_Page/Body.js';\r\nimport GET_SURVEYS_BODY from '../DAPP_Page/Get_Surveys_Page/Body.js';\r\nimport SET_POLL_BODY from '../DAPP_Page/Set_Poll_Page/Body.js';\r\nimport GET_POLLS_BODY from '../DAPP_Page/Get_Poll_Page/Body.js';\r\nimport ACCOUNT_SURVEYS_BODY from '../Account_Page/Account_Surveys/Body.js';\r\nimport ACCOUNT_POLLS_BODY from '../Account_Page/Account_Polls/Body.js';\r\nimport HOME_BODY from '../Home_Page/Body.js';\r\n\r\nconst Body = styled.div`\r\n  height: 100%;\r\n  margin: ${props => props.showResizedNav ? '16em' : '5em'} 0 5em 0;\r\n`;\r\n\r\nfunction MainBody({\r\n\tstorage,\r\n\tsetStorage,\r\n\ttokenContract,\r\n\tsurveysAddress,\r\n\tsurveysContract,\r\n\tpollAddress,\r\n\tpollContract\r\n}) {\r\n\tconst [newWindowWidth, setNewWindowWidth] = useState(window.inheritWidth);\r\n\r\n  let resizeWindow = () => {\r\n    setNewWindowWidth(window.innerWidth);\r\n  };\r\n\r\n  useEffect(() => {\r\n    resizeWindow();\r\n    window.addEventListener(\"resize\", resizeWindow);\r\n    return () => window.removeEventListener(\"resize\", resizeWindow);\r\n\t}, []);\r\n\t\r\n\tuseEffect(() => {\r\n\t\tsetStorage({ ...storage, windowWidth: newWindowWidth, showResizedNav: false })\r\n\t}, [newWindowWidth])\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Body showResizedNav={storage.showResizedNav}>\r\n\r\n\t\t\t\t<Route exact path=\"/\">\r\n\t\t\t\t\t<HOME_BODY />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route exact path=\"/App\">\r\n\t\t\t\t\t<DAPP\r\n\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t\t\tsurveysAddress={surveysAddress}\r\n\t\t\t\t\t\tsurveysContract={surveysContract}\r\n\t\t\t\t\t\tpollAddress={pollAddress}\r\n\t\t\t\t\t\tpollContract={pollContract}\r\n\t\t\t\t\t\ttokenContract={tokenContract}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route exact path=\"/App/Set_Survey\">\r\n\t\t\t\t\t<SET_SURVEY_BODY\r\n\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t\t\ttokenContract={tokenContract}\r\n\t\t\t\t\t\tsurveysAddress={surveysAddress}\r\n\t\t\t\t\t\tsurveysContract={surveysContract}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route exact path=\"/App/Get_Surveys\">\r\n\t\t\t\t\t<GET_SURVEYS_BODY\r\n\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t\t\tsurveysContract={surveysContract}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route exact path=\"/App/Set_Poll\">\r\n\t\t\t\t\t<SET_POLL_BODY\r\n\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t\t\ttokenContract={tokenContract}\r\n\t\t\t\t\t\tpollAddress={pollAddress}\r\n\t\t\t\t\t\tpollContract={pollContract}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route exact path=\"/App/Get_Polls\">\r\n\t\t\t\t\t<GET_POLLS_BODY\r\n\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t\t\tpollContract={pollContract}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route exact path=\"/accountSurveys\">\r\n\t\t\t\t\t<ACCOUNT_SURVEYS_BODY\r\n\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t\t\tsurveysContract={surveysContract}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route exact path=\"/accountPolls\">\r\n\t\t\t\t\t<ACCOUNT_POLLS_BODY\r\n\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\tsetStorage={setStorage}\r\n\t\t\t\t\t\tpollContract={pollContract}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Route>\r\n\t\t\t</Body>\r\n\t\t</Switch>\r\n\t)\r\n}\r\n\r\nexport default MainBody;","import React from 'react';\r\nimport useStorage from './Components/Hooks/useStorage.js';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nimport Connect from './Components/Connect.js';\r\nimport Header from './Components/Header/Header.js';\r\nimport Footer from './Components/Footer.js';\r\nimport MainBody from './Components/MainBody.js';\r\n\r\nimport Web3 from 'web3';\r\nimport surveyFunc from './contracts/SurveyFunc.json';\r\nimport pollFunc from './contracts/PollFunc.json';\r\nimport token from './contracts/Token.json';\r\n\r\nconst web3 = new Web3(Web3.givenProvider);\r\n\r\nconst tokenAddress = '0x9F668FaeA6ef654279A7d4e8Cd545cD85A0FE845';\r\nconst tokenContract = new web3.eth.Contract(token.abi, tokenAddress);\r\n\r\nconst surveysAddress = '0x1bF57A4cB06fD0f759cb4dcB7c9D00526dfbcBe4';\r\nconst surveysContract = new web3.eth.Contract(surveyFunc.abi, surveysAddress);\r\n\r\nconst pollAddress = '0xF07d94D4e395EA9039FB1fFe4d28477a9a00bE1B';\r\nconst pollContract = new web3.eth.Contract(pollFunc.abi, pollAddress);\r\n\r\nfunction App() {\r\n\r\n  const [storage, setStorage] = useStorage();\r\n\r\n  return (\r\n    <Router>\r\n      <MainBody\r\n        storage={storage}\r\n        setStorage={setStorage}\r\n        tokenContract={tokenContract}\r\n        surveysAddress={surveysAddress}\r\n        surveysContract={surveysContract}\r\n        pollAddress={pollAddress}\r\n        pollContract={pollContract}\r\n      />\r\n      <Header\r\n        storage={storage}\r\n        setStorage={setStorage}\r\n        tokenContract={tokenContract}\r\n      />\r\n      <Footer />\r\n      <Connect\r\n        storage={storage}\r\n        setStorage={setStorage}\r\n      />\r\n    </Router >\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { faTimes, faBars } from '@fortawesome/free-solid-svg-icons'\r\nimport { faInstagram, faFacebookF, faTwitter, faTelegramPlane, faGithub } from '@fortawesome/free-brands-svg-icons'\r\n\r\nlibrary.add(faTimes, faBars, faInstagram, faFacebookF, faTwitter, faTelegramPlane, faGithub);\r\n\r\n","import React from 'react'\r\nimport { createGlobalStyle } from 'styled-components'\r\n\r\nconst Global = createGlobalStyle`\r\n\thtml {\r\n\t\tbackground: rgb(166,192,240);\r\n\t\tbackground: -moz-linear-gradient(45deg, rgba(166,192,240,1) 0%, rgba(208,159,184,0.9108018207282913) 50%, rgba(246,128,132,1) 100%);\r\n\t\tbackground: -webkit-linear-gradient(45deg, rgba(166,192,240,1) 0%, rgba(208,159,184,0.9108018207282913) 50%, rgba(246,128,132,1) 100%);\r\n\t\tbackground: linear-gradient(45deg, rgba(166,192,240,1) 0%, rgba(208,159,184,0.9108018207282913) 50%, rgba(246,128,132,1) 100%);\r\n\t\tfilter: progid:DXImageTransform.Microsoft.gradient(startColorstr=\"#a6c0f0\",endColorstr=\"#f68084\",GradientType=1);\r\n\t\tbackground-attachment:fixed;\r\n\t\tfont-family: 'Varela', sans-serif;\r\n\t\tsvg {\r\n\t\t\tcolor: #fdfcfa;\r\n\t\t}\r\n\t}\r\n\r\n\t*, *:before, *:after {\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\tinput[type=\"text\"], input[type=\"number\"] {\r\n\t\tborder: 0;\r\n\t\theight: 3.5em;\r\n\t\ttext-align: center;\r\n\t\tbackground-color: #fdfcfa;\r\n\t\tletter-spacing: 0.05em;\r\n\t\tfont-weight: 600;\r\n\t\t&:focus {\r\n\t\t\toutline: none;\r\n\t\t}\r\n\t}\r\n\r\n\tbutton {\r\n\t\tborder: 0;\r\n\t\theight: 3.5em;\r\n\t\ttext-align: center;\r\n\t\tcolor: #1a1a1a;\r\n\t\tbackground-color: #fdfcfa;\r\n\t\tletter-spacing: 0.05em;\r\n\t\tfont-weight: 500;\r\n\t\t&:focus {\r\n\t\t\toutline: none;\r\n\t\t}\r\n\t\t&:hover {\r\n\t\t\tbackground-color: #e8eae6;\r\n\t\t}\r\n\t}\r\n\r\n\tnav {\r\n\t\tbox-shadow: 0 0 9px 0 rgba(0, 0, 0, 0.5), 0 0 6px 0 rgba(0, 0, 0, 0.4);\r\n\t}\r\n\r\n\tfooter, .header {\r\n\t\topacity: 0.95;\r\n\t}\r\n\r\n\tfooter:hover, .header:hover {\r\n\t\topacity: 1;\r\n\t}\r\n\r\n\t.card-default {\r\n\t\tbackground-color: #87004c;\r\n\t\tbackground-image: linear-gradient(225deg, #87004c 0%, #784BA0 50%, #2B86C5 100%);\r\n\t\tbox-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.175);\r\n\t\tborder: 0;\r\n\t\tmargin: 1em 1em;\r\n\t\tborder-radius: 25px;\r\n\r\n\t\twidth: 21em;\r\n\t\ttext-align: center;\r\n\t\toverflow-y: auto;\r\n\t\tbutton {\r\n\t\t\twidth: 16em;\r\n\t\t}\r\n\t\tinput[type=\"text\"], input[type=\"number\"] {\r\n\t\t\twidth: 20em;\r\n\t\t\tmargin: 2em !important;\r\n\t\t}\r\n\t\th4 {\r\n\t\t\tcolor: #fff;\r\n\t\t\tmargin: 2em 2em 0 2em;\r\n\t\t\tfont-weight: 500;\r\n\t\t\tletter-spacing: 0.1em;\r\n\t\t}\r\n\t\th6 {\r\n\t\t\tcolor: #fff;\r\n\t\t\tmargin-top: 2em;\r\n\t\t\tfont-weight: 500;\r\n\t\t\tletter-spacing: 0.05em;\r\n\t\t}\r\n\t\tbutton, input[type=\"text\"], input[type=\"number\"] {\r\n\t\t\tbox-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.175);\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tmargin 0.5em;\r\n\t\t}\r\n\t}\r\n\t.change-color-on-hover:hover {\r\n\t\tcolor: #B3315F !important;\r\n\t\tcursor: pointer;\r\n\t}\r\n`;\r\n\r\nfunction Background() {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Global />\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Background;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport './Components/Icons';\r\nimport Styling from './Components/Styling.js';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Styling />\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}